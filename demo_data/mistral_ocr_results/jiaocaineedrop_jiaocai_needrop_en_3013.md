1. 获取已知数据 $x_{0}, y_{0}, f, X_{s 1}, Y_{s 1}, Z_{s 1}, \phi_{1}, \omega_{1}, \kappa_{1}, X_{s 2}, Y_{s 2}, Z_{s 2}, \phi_{2}, \omega_{2}, \kappa_{2}$
2. 量测像点坐标 $x_{1}, y_{1}, x_{2}, y_{2}$
3. 由外方位线元素计算基线分量 $B_{x}, B_{y}, B_{z}$
4. 由外方位角元素计算像空间辅助坐标 $X_{1}, Y_{1}, Z_{1}, X_{2}, Y_{2}, Z_{2}$ (需要旋转矩阵 $R$ )

$$
\begin{aligned}
& B_{X}=X_{s 2}-X_{s 1}=N_{1} X_{1}-N_{2} X_{2} \\
& B_{Y}=Y_{s 2}-Y_{s 1}=N_{1} Y_{1}-N_{2} Y_{2} \\
& B_{z}=Z_{s 2}-Z_{s 1}=N_{1} Z_{1}-N_{2} Z_{2}
\end{aligned}
$$

$$
\begin{aligned}
& N_{1}=\frac{B_{X} Z_{2}-B_{Z} X_{2}}{X_{1} Z_{2}-X_{2} Z_{1}} \\
& N_{2}=\frac{B_{X} Z_{1}-B_{Z} X_{1}}{X_{1} Z_{2}-X_{2} Z_{1}}
\end{aligned}
$$

5. 计算投影系数 $N_{1}, N_{2}$
6. 计算地面坐标 $X_{A}, Y_{A}, Z_{A}$

# 利用立体像对确定地面点 

- 共线条件严密解法
- 空间后方交会-空间前方交会解法